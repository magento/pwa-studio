<!DOCTYPE html>
<html lang="" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Venia storefront setup | Magento PWA Documentation</title>
	<meta name="description" content="Everything you need to build a Magento PWA.">

	<link rel="stylesheet" href="/pwa-studio/assets/css/app.css" />
	<link rel="stylesheet" href="/pwa-studio/assets/css/print.css" media="print"/>

	<link rel="stylesheet" href="/pwa-studio/builds/css/main.css" />

<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">

	<script>
  var baseUrl = "/pwa-studio";
  var algolia = {
    id : "E642SEDTHL",
    index:  "pwa-devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c"
  };

  var indices = [
    {
      label: "PWA",
      name: "pwa-devdocs",
      baseUrl: "https://pwastudio.io"
    },
    {
      label: "DevDocs",
      name: "devdocs",
      facets: [["guide_version: 2.3", "versionless: true"]],
      refinements: [
        {
          label: "Functional areas",
          attribute: "functional_areas"
        }
      ],
      baseUrl: "https://devdocs.magento.com"
    },
    {
      label: "User Guide",
      name: "merchdocs_ee",
      baseUrl: "https://docs.magento.com/m2/ee/user_guide"
    },
    {
      label: "Order Management",
      name: "oms-en",
      baseUrl: "https://omsdocs.magento.com"
    }
  ];
</script>





<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KRCLXBB');</script>
<!-- End Google Tag Manager -->




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		<nav class="site-nav">

  <div class="menu-btn">
    <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
  </div>

  <div class="nav-container">

    <a class="logo" data-proofer-ignore href="/pwa-studio/">
      <img src="/pwa-studio/assets/i/m-logo.svg" alt="">
      <img src="/pwa-studio/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">PWA Docs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      

      <!-- Main Navigation -->
<ul class="nav-main" role="menubar">

  
  <li class="menuitem ">
      <a href="/pwa-studio/technologies/overview/">Overview</a>
  </li>
  

  
  <li class="menuitem ">
      <a href="/pwa-studio/pwa-buildpack/">PWA Buildpack</a>
  </li>
  

  
  <li class="menuitem ">
      <a href="/pwa-studio/peregrine/">Peregrine Components</a>
  </li>
  

  
  <li class="menuitem current">
      <a href="/pwa-studio/venia-pwa-concept/">Venia Storefront</a>
  </li>
  

  
  <li class="menuitem ">
      <a href="/pwa-studio/tutorials/">Tutorials</a>
  </li>
  

</ul>

    </div>

    <div class="search-btn">
      <button class="search-trigger search-icon" aria-label="Search"></button>
    </div>

    <form class="quick-search" action="/pwa-studio/search/" method="get" novalidate="novalidate">
      <input type="search" name="query" placeholder="Search" />
      <button class="quick-search-close" aria-label="Close search">&times;</button>
    </form>

  </div>
</nav><!-- .site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		<div class="message-banner">
If you have any project questions, concerns, or contribution ideas, join our <a href="https://magentocommeng.slack.com/messages/C71HNKYS2"><strong>#pwa</strong></a> Slack channel.
Find out how to create an account by visiting <a href="https://devdocs.magento.com/community/resources/resources.html">Community Resources</a>
</div>



		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
    <button class="toc-toggler">Table of Contents</button>
    <div class="sidebar-wrapper">

      





<div class="menu-section">
    <div class="toc-entry"><h4 class="guide-title">Venia Storefront</h4></div>

    <ul class="table-of-contents">
    
        <li >
            
            <a href="/pwa-studio/venia-pwa-concept/" class=" ">Overview</a>
            

            
        </li>
    
        <li >
            
            <a href="/pwa-studio/venia-pwa-concept/project-structure/" class=" ">Project structure</a>
            

            
        </li>
    
        <li class="active">
            
            <a href="/pwa-studio/venia-pwa-concept/setup/" class=" ">Venia storefront setup</a>
            

            
        </li>
    
        <li >
            
            <a href="/pwa-studio/venia-pwa-concept/install-sample-data/" class=" ">Install Venia sample data</a>
            

            
        </li>
    
        <li >
            
            <span>Features</span>
            

            
            <ul>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/features/modular-components/" class=" ">Modular components</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/features/checkout/" class=" ">Checkout</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/features/braintree/" class=" ">Braintree integration</a>
                    
                </li>
            
            </ul>
            
        </li>
    
        <li >
            
            <span>Design</span>
            

            
            <ul>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/design/global-style/" class=" ">Global style guide</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/design/colors/" class=" ">Colors</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/design/typography/" class=" ">Typography</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/design/buttons/" class=" ">Buttons</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/design/form-fields/" class=" ">Form fields</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/design/homepage/" class=" ">Homepage</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/design/product-page/" class=" ">Product page</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/design/category-page/" class=" ">Category page</a>
                    
                </li>
            
            </ul>
            
        </li>
    
        <li >
            
            <span>Component specifications</span>
            

            
            <ul>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/add-to-cart/" class=" ">Add to cart</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/add-to-wishlist/" class=" ">Add to wishlist</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/buy-now-with/" class=" ">Buy now / Buy with</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/category-menu/" class=" ">Category menu</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/color-selector/" class=" ">Color selector</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/filter/" class=" ">Filter</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/footer/" class=" ">Footer</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/forgot-password/" class=" ">Forgot password</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/header/" class=" ">Header</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/image-carousel/" class=" ">Image carousel</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/label-selector/" class=" ">Label selector</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/main-image/" class=" ">Main image</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/number-of-items/" class=" ">Number of items</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/order-confirmation/" class=" ">Order confirmation</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/page/" class=" ">Page</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/product-description/" class=" ">Product description</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/product-listing/" class=" ">Product listing</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/purchase-history/" class=" ">Purchase history</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/quantity-selector/" class=" ">Quantity selector</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/quantity-sync-bar/" class=" ">Quantity sync bar</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/recommended-carousel/" class=" ">Recommended carousel</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/sale-banner/" class=" ">Sale banner</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/share/" class=" ">Share</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/show-more/" class=" ">Show more</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/size-selector/" class=" ">Size selector</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/sort/" class=" ">Sort</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/venia-pwa-concept/component/title-bar/" class=" ">Title bar</a>
                    
                </li>
            
            </ul>
            
        </li>
    
    </ul>
</div>



    </div>
</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	<h1 class="page-heading">Venia storefront setup</h1>
</section>

			<p>Venia is a PWA storefront that runs on top of an existing Magento 2 backend.
Follow the instructions on this page to setup and run the <a href="https://github.com/magento/pwa-studio/tree/master/packages/venia-concept">Venia PWA concept storefront</a>.</p>

<p>At the end of this tutorial, you will have a working copy of the Venia storefront installed and running on top of Magento.
Use this setup to explore or develop Magento PWA components and storefronts.</p>

<p>If you experience problems with the project setup, see <a href="/pwa-studio/pwa-buildpack/troubleshooting/">Troubleshooting</a> in the PWA Buildpack section.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li><a href="https://nodejs.org/en/">NodeJS &gt;=10.14.1 LTS</a></li>
  <li><a href="https://yarnpkg.com">Yarn &gt;=1.13.0</a></li>
  <li>Python 2.7 and build tools, <a href="https://github.com/nodejs/node-gyp#installation">see the Installation instructions on <code class="highlighter-rouge">node-gyp</code></a> for your platform.</li>
  <li><a href="#choosing-the-magento-23-backend">A running instance of Magento 2.3.1 or above</a></li>
</ul>

<h2 id="step-1-clone-the-pwa-studio-repository">Step 1. Clone the PWA Studio repository</h2>

<p>Clone the <a href="https://github.com/magento/pwa-studio">PWA Studio</a> repository into your development environment.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/magento/pwa-studio.git
</code></pre></div></div>

<h2 id="step-2-install-pwa-studio-dependencies">Step 2. Install PWA Studio dependencies</h2>

<p class="bs-callout bs-callout-warning">If you have an existing <code class="highlighter-rouge">node_modules</code> directory from a previous PWA Studio version installation, remove it to prevent installation errors.</p>

<p>In the PWA Studio project’s root directory, run the following command to install the project dependencies:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn <span class="nb">install</span>
</code></pre></div></div>

<h2 id="step-3-generate-ssl-certificate">Step 3. Generate SSL certificate</h2>

<p>PWA features require an HTTPS secure domain.</p>

<p>In the root directory, use the <code class="highlighter-rouge">create-custom-origin</code> sub-command for the <code class="highlighter-rouge">buildpack</code> CLI tool to generate a trusted SSL certificate for the Venia storefront application:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn buildpack create-custom-origin packages/venia-concept
</code></pre></div></div>

<p class="bs-callout bs-callout-info">This feature requires administrative access, so
it may prompt you for an administrative password at the command line.
It does not permanently elevate permissions for the dev process but instead, launches a privileged subprocess to execute one command.</p>

<h2 id="step-4-create-the-env-file">Step 4. Create the <code class="highlighter-rouge">.env</code> file</h2>

<p>Use the <code class="highlighter-rouge">create-env-file</code> subcommand for the <code class="highlighter-rouge">buildpack</code> CLI tool to create a <code class="highlighter-rouge">.env</code> file for Venia.
The subcommand generates a <code class="highlighter-rouge">packages/venia-concept/.env</code> file where you can set the value of <code class="highlighter-rouge">MAGENTO_BACKEND_URL</code> to the URL of a running Magento instance.</p>

<p>You can create the <code class="highlighter-rouge">.env</code> file and set the <code class="highlighter-rouge">MAGENTO_BACKEND_URL</code> value at the same time using a command similar to the following:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">MAGENTO_BACKEND_URL</span><span class="o">=</span><span class="s2">"https://master-7rqtwti-mfwmkrjfqvbjk.us-4.magentosite.cloud/"</span> yarn buildpack create-env-file packages/venia-concept
</code></pre></div></div>

<p>If you are contributing to Venia development or exploring its features, you can use the <code class="highlighter-rouge">MAGENTO_BACKEND_URL</code> value provided in the example command.
This URL points to a cloud instance of Magento 2.3.1 with the <a href="/pwa-studio/venia-pwa-concept/install-sample-data/">Venia sample data</a> installed.</p>

<h3 id="choosing-the-magento-23-backend">Choosing the Magento 2.3 backend</h3>

<p>The most recent version of the Venia storefront runs on top of any Magento 2.3.1 instance.</p>

<p>The currently recommended Magento version to use with PWA Studio is <strong>2.3.1</strong>, which can be installed using composer.</p>

<p><strong>Example:</strong></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>composer create-project <span class="nt">--repository</span><span class="o">=</span>https://repo.magento.com/ magento/project-community-edition:2.3.1 <span class="o">[</span>destination directory]
</code></pre></div></div>

<p>Use the default cloud instance as the backend or set up your own <a href="https://devdocs.magento.com/guides/v2.3/install-gde/bk-install-guide.html">local development instance</a>.</p>

<p>The Venia storefront has been verified to be compatible with the following local setups:</p>

<ul>
  <li>
    <p>Magento 2 installed using <a href="https://github.com/weprovide/valet-plus">valet-plus</a></p>

    <p><strong>Note:</strong> If you are having <code class="highlighter-rouge">Magento2ValetDriver</code> problems, try downgrading to version <strong>1.0.21</strong>.</p>
  </li>
  <li>
    <p><a href="https://github.com/paliarush/magento2-vagrant-for-developers">Vagrant Box for Magento 2 developers</a></p>
  </li>
</ul>

<p>Don’t forget to install the <a href="/pwa-studio/venia-pwa-concept/install-sample-data/">Venia sample data</a>!</p>

<h2 id="step-5-start-the-server">Step 5. Start the server</h2>

<h3 id="build-artifacts">Build artifacts</h3>

<p>Before you run the server, generate build artifacts for Venia using the following command in the <strong>project root directory</strong>:</p>

<p><code class="highlighter-rouge">yarn run build</code></p>

<h3 id="run-the-server">Run the server</h3>

<p>Use any of the following commands from the <strong>project root directory</strong> to start the server:</p>

<dl>
  <dt><code class="highlighter-rouge">yarn run watch:venia</code></dt>
  <dd>
    <p>Starts the Venia storefront development environment.</p>
  </dd>
  <dt><code class="highlighter-rouge">yarn run watch:all</code></dt>
  <dd>
    <p>Runs the full PWA Studio developer experience, which include Venia hot-reloading and concurrent Buildpack/Peregrine rebuilds.</p>
  </dd>
  <dt><code class="highlighter-rouge">yarn run build &amp;&amp; yarn run stage:venia</code></dt>
  <dd>
    <p>Generates build artifacts and runs the staging environment, which uses more compressed assets and more closely reflects production.</p>
  </dd>
</dl>

<h3 id="browsing-to-the-application">Browsing to the application</h3>

<p>After the development server is up and running, look for a similar line in the terminal output (the port may differ for your instance):</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PWADevServer ready at https://magento-venia-concept-abcde.local.pwadev:8001
</code></pre></div></div>

<p>OR</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Launching staging server...

https://magento-venia-concept-abcde.local.pwadev:51828/

Staging server running at the address above.
</code></pre></div></div>

<p>This is the address for your PWA frontend.
You can still use the old address to access the Admin section of Magento, but
for PWA development on the frontend, use this new address.</p>

<p>Congratulations! You have set up your development environment for the Venia storefront project.</p>


			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  

  
  <div class="github-link">
    <a class="improve-page" href="https://github.com/magento/pwa-studio/tree/develop/pwa-devdocs/src/venia-pwa-concept/setup/index.md" target="_blank">
      Edit this page on GitHub
    </a>
  </div>
  

  
  <div class="new-issue">
    <a href="https://github.com/magento/pwa-studio/issues/new?title=Feedback on page: /venia-pwa-concept/setup/" target="_blank">
      Give us feedback
    </a>
  </div>
  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->

</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      <ul class="nav footer-links">
    <li><a href="http://magento.com/legal/terms/privacy/">Privacy Policy</a></li>
    <li><a href="http://magento.com/legal/terms/">Terms of Service</a></li>
    <li><a href="http://magento.com/legal/licensing/">License/Trademark FAQ</a></li>
    <li><a href="https://magentocommeng.slack.com/messages/C71HNKYS2">#pwa Slack channel</a></li>
  </ul>
    </div>

		<div class="copyright-date">&copy; 2019 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->



<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="/pwa-studio/builds/js/index.bundle.js"></script>

<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/pwa-studio/assets/js/app.min.js"></script>



<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', '', 'auto');
    ga('send', 'pageview');

</script>





</body>
</html>
